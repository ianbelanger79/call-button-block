!function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,o){var r,n;!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=typeof r;if("string"===n||"number"===n)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===n)for(var c in r)l.call(r,c)&&r[c]&&e.push(c)}}return e.join(" ")}var l={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(o.default=o,e.exports=o):(r=[],void 0!==(n=function(){return o}.apply(t,r))&&(e.exports=n))}()},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(2)},function(e,t,o){"use strict";function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n=o(3),l=(o.n(n),o(4)),a=(o.n(l),o(0)),c=o.n(a),u=o(5),i=(o.n(u),o(6)),s=wp.i18n,p=s.__,f=s._x,b=wp.editor,d=b.RichText,g=b.getColorClassName,m=wp.blocks.registerBlockType,C={url:{type:"string"},title:{type:"string",source:"attribute",selector:"a",attribute:"title"},text:{type:"string",source:"html",selector:"a"},backgroundColor:{type:"string"},textColor:{type:"string"},customBackgroundColor:{type:"string"},customTextColor:{type:"string"}};m("eig-cnb/call-now-button",{title:p("Call Now Button"),description:p("Prompt visitors to take action with a Call Now Button."),icon:"phone",category:"common",keywords:[p("Call Now Button"),p("call-now-button")],attributes:C,supports:{align:!0,alignWide:!1},styles:[{name:"default",label:f("Default","block style"),isDefault:!0},{name:"outline",label:p("Outline")},{name:"squared",label:f("Squared","block style")}],edit:i.a,save:function(e){var t,o=e.attributes,n=(o.url,o.text),l=o.title,a=o.backgroundColor,u=o.textColor,i=o.customBackgroundColor,s=o.customTextColor,p=g("color",u),f=g("background-color",a),b=c()("wp-block-button__link eig_call_button",(t={"has-text-color":u||s},r(t,p,p),r(t,"has-background",a||i),r(t,f,f),t)),m={backgroundColor:f?void 0:i,color:p?void 0:s},C=o.url;if(C)var y=/\D/gi,h=C.replace(y,"");else var h=o.url;return wp.element.createElement("div",{className:"eig_call"},wp.element.createElement(d.Content,{tagName:"a",className:b,href:"tel:"+h,title:l,style:m,value:n}))}})},function(e,t){},function(e,t){},function(e,t){e.exports=lodash},function(e,t,o){"use strict";function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=o(0),u=o.n(c),i=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),s=wp.i18n.__,p=wp.element,f=p.Component,b=p.Fragment,d=wp.compose.compose,g=wp.components,m=(g.Dashicon,g.IconButton,g.withFallbackStyles),C=wp.editor,y=C.PlainText,h=C.RichText,k=C.ContrastChecker,w=C.InspectorControls,v=C.withColors,x=C.PanelColorSettings,_=window,O=_.getComputedStyle,P=m(function(e,t){var o=t.textColor,r=t.backgroundColor,n=r&&r.color,l=o&&o.color,a=!l&&e?e.querySelector('[contenteditable="true"]'):null;return{fallbackBackgroundColor:n||!e?void 0:O(e).backgroundColor,fallbackTextColor:l||!a?void 0:O(a).color}}),T=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.nodeRef=null,e.bindRef=e.bindRef.bind(e),e}return a(t,e),i(t,[{key:"bindRef",value:function(e){e&&(this.nodeRef=e)}},{key:"render",value:function(){var e,t=this.props,o=t.attributes,n=t.backgroundColor,l=t.textColor,a=t.setBackgroundColor,c=t.setTextColor,i=t.fallbackBackgroundColor,p=t.fallbackTextColor,f=t.setAttributes,d=(t.isSelected,t.className),g=o.text,m=o.url,C=o.title;return wp.element.createElement(b,null,wp.element.createElement("div",{className:d,title:C,ref:this.bindRef},wp.element.createElement(y,{value:m,placeholder:s("Enter phone number"),onChange:function(e){return f({url:e})}}),wp.element.createElement(h,{placeholder:s("Add text\u2026"),value:g,onChange:function(e){return f({text:e})},formattingControls:["bold","italic","strikethrough"],className:u()("wp-block-button__link eig_call_button",(e={"has-background":n.color},r(e,n.class,n.class),r(e,"has-text-color",l.color),r(e,l.class,l.class),e)),style:{backgroundColor:n.color,color:l.color},keepPlaceholderOnFocus:!0}),wp.element.createElement(w,null,wp.element.createElement(x,{title:s("Color Settings"),colorSettings:[{value:n.color,onChange:a,label:s("Background Color")},{value:l.color,onChange:c,label:s("Text Color")}]},wp.element.createElement(k,{isLargeText:!1,textColor:l.color,backgroundColor:n.color,fallbackBackgroundColor:i,fallbackTextColor:p})))))}}]),t}(f);t.a=d([v("backgroundColor",{textColor:"color"}),P])(T)}]);